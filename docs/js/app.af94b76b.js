(function(e){function t(t){for(var m,v,r=t[0],s=t[1],o=t[2],u=0,p=[];u<r.length;u++)v=r[u],i[v]&&p.push(i[v][0]),i[v]=0;for(m in s)Object.prototype.hasOwnProperty.call(s,m)&&(e[m]=s[m]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,o||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],m=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(m=!1)}m&&(a.splice(t--,1),e=v(v.s=n[0]))}return e}var m={},i={app:0},a=[];function v(t){if(m[t])return m[t].exports;var n=m[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,v),n.l=!0,n.exports}v.m=e,v.c=m,v.d=function(e,t,n){v.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},v.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(e,t){if(1&t&&(e=v(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(v.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var m in e)v.d(n,m,function(t){return e[t]}.bind(null,m));return n},v.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return v.d(t,"a",t),t},v.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},v.p="/kiban-team-timer/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var c=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var m=n("64a9"),i=n.n(m);i.a},"04f1":function(e,t,n){e.exports=n.p+"media/1min-report.85eb33c6.mp3"},1771:function(e,t,n){var m={"./1min-report.mp3":"04f1","./end-1h-review.mp3":"1e1a","./end-sprint.mp3":"f43e","./logo.png":"cf05","./start-1h-review.mp3":"e577","./start-sprint.mp3":"46ed"};function i(e){var t=a(e);return n(t)}function a(e){var t=m[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(m)},i.resolve=a,e.exports=i,i.id="1771"},"1e1a":function(e,t,n){e.exports=n.p+"media/end-1h-review.85eb33c6.mp3"},"46ed":function(e,t,n){e.exports=n.p+"media/start-sprint.85eb33c6.mp3"},"56d7":function(e,t,n){"use strict";n.r(t);var m=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("table",{attrs:{id:"main-contents"}},[n("tr",[n("td",{staticClass:"key"},[e._v("現在")]),n("td",{staticClass:"value"},[e._v(e._s(e.currentTime)+e._s(e.mode))])]),n("tr",[n("td",{staticClass:"key next-event"},[e._v("次のイベント")]),n("td",{staticClass:"value next-event"},[e._v(e._s(e.events[e.nextEventIndex].time)+" : "+e._s(e.events[e.nextEventIndex]["event-name"]))])]),n("tr",[n("td",{staticClass:"key",attrs:{id:"future-events"}},[e._v("Future Events")]),n("td",{staticClass:"value"},[n("ol",{attrs:{id:"future-events-list"}},e._l(e.futureEvents(),function(t){return n("li",[e._v(e._s(t.time)+" : "+e._s(t["event-name"]))])}),0)])])])])},a=[];class v{constructor(){this.timerConfigJson={schedule:[{time:"0:00","event-name":"スプリント開始"},{time:"0:11","event-name":"1分レポート書いてね"},{time:"0:12","event-name":"スプリント終了"},{time:"0:15","event-name":"スプリント開始"},{time:"0:26","event-name":"1分レポート書いてね"},{time:"0:27","event-name":"スプリント終了"},{time:"0:30","event-name":"スプリント開始"},{time:"0:41","event-name":"1分レポート書いてね"},{time:"0:42","event-name":"スプリント終了"},{time:"0:45","event-name":"ふりかえり開始"},{time:"0:59","event-name":"そろそろ終わり"},{time:"1:00","event-name":"スプリント開始"},{time:"1:11","event-name":"1分レポート書いてね"},{time:"1:12","event-name":"スプリント終了"},{time:"1:15","event-name":"スプリント開始"},{time:"1:26","event-name":"1分レポート書いてね"},{time:"1:27","event-name":"スプリント終了"},{time:"1:30","event-name":"スプリント開始"},{time:"1:41","event-name":"1分レポート書いてね"},{time:"1:42","event-name":"スプリント終了"},{time:"1:45","event-name":"ふりかえり開始"},{time:"1:59","event-name":"そろそろ終わり"},{time:"2:00","event-name":"スプリント開始"},{time:"2:11","event-name":"1分レポート書いてね"},{time:"2:12","event-name":"スプリント終了"},{time:"2:15","event-name":"スプリント開始"},{time:"2:26","event-name":"1分レポート書いてね"},{time:"2:27","event-name":"スプリント終了"},{time:"2:30","event-name":"スプリント開始"},{time:"2:41","event-name":"1分レポート書いてね"},{time:"2:42","event-name":"スプリント終了"},{time:"2:45","event-name":"ふりかえり開始"},{time:"2:59","event-name":"そろそろ終わり"},{time:"3:00","event-name":"スプリント開始"},{time:"3:11","event-name":"1分レポート書いてね"},{time:"3:12","event-name":"スプリント終了"},{time:"3:15","event-name":"スプリント開始"},{time:"3:26","event-name":"1分レポート書いてね"},{time:"3:27","event-name":"スプリント終了"},{time:"3:30","event-name":"スプリント開始"},{time:"3:41","event-name":"1分レポート書いてね"},{time:"3:42","event-name":"スプリント終了"},{time:"3:45","event-name":"ふりかえり開始"},{time:"3:59","event-name":"そろそろ終わり"},{time:"4:00","event-name":"スプリント開始"},{time:"4:11","event-name":"1分レポート書いてね"},{time:"4:12","event-name":"スプリント終了"},{time:"4:15","event-name":"スプリント開始"},{time:"4:26","event-name":"1分レポート書いてね"},{time:"4:27","event-name":"スプリント終了"},{time:"4:30","event-name":"スプリント開始"},{time:"4:41","event-name":"1分レポート書いてね"},{time:"4:42","event-name":"スプリント終了"},{time:"4:45","event-name":"ふりかえり開始"},{time:"4:59","event-name":"そろそろ終わり"},{time:"5:00","event-name":"スプリント開始"},{time:"5:11","event-name":"1分レポート書いてね"},{time:"5:12","event-name":"スプリント終了"},{time:"5:15","event-name":"スプリント開始"},{time:"5:26","event-name":"1分レポート書いてね"},{time:"5:27","event-name":"スプリント終了"},{time:"5:30","event-name":"スプリント開始"},{time:"5:41","event-name":"1分レポート書いてね"},{time:"5:42","event-name":"スプリント終了"},{time:"5:45","event-name":"ふりかえり開始"},{time:"5:59","event-name":"そろそろ終わり"},{time:"6:00","event-name":"スプリント開始"},{time:"6:11","event-name":"1分レポート書いてね"},{time:"6:12","event-name":"スプリント終了"},{time:"6:15","event-name":"スプリント開始"},{time:"6:26","event-name":"1分レポート書いてね"},{time:"6:27","event-name":"スプリント終了"},{time:"6:30","event-name":"スプリント開始"},{time:"6:41","event-name":"1分レポート書いてね"},{time:"6:42","event-name":"スプリント終了"},{time:"6:45","event-name":"ふりかえり開始"},{time:"6:59","event-name":"そろそろ終わり"},{time:"7:00","event-name":"スプリント開始"},{time:"7:11","event-name":"1分レポート書いてね"},{time:"7:12","event-name":"スプリント終了"},{time:"7:15","event-name":"スプリント開始"},{time:"7:26","event-name":"1分レポート書いてね"},{time:"7:27","event-name":"スプリント終了"},{time:"7:30","event-name":"スプリント開始"},{time:"7:41","event-name":"1分レポート書いてね"},{time:"7:42","event-name":"スプリント終了"},{time:"7:45","event-name":"ふりかえり開始"},{time:"7:59","event-name":"そろそろ終わり"},{time:"8:00","event-name":"スプリント開始"},{time:"8:11","event-name":"1分レポート書いてね"},{time:"8:12","event-name":"スプリント終了"},{time:"8:15","event-name":"スプリント開始"},{time:"8:26","event-name":"1分レポート書いてね"},{time:"8:27","event-name":"スプリント終了"},{time:"8:30","event-name":"スプリント開始"},{time:"8:41","event-name":"1分レポート書いてね"},{time:"8:42","event-name":"スプリント終了"},{time:"8:45","event-name":"ふりかえり開始"},{time:"8:59","event-name":"そろそろ終わり"},{time:"9:00","event-name":"スプリント開始"},{time:"9:11","event-name":"1分レポート書いてね"},{time:"9:12","event-name":"スプリント終了"},{time:"9:15","event-name":"スプリント開始"},{time:"9:26","event-name":"1分レポート書いてね"},{time:"9:27","event-name":"スプリント終了"},{time:"9:30","event-name":"スプリント開始"},{time:"9:41","event-name":"1分レポート書いてね"},{time:"9:42","event-name":"スプリント終了"},{time:"9:45","event-name":"ふりかえり開始"},{time:"9:59","event-name":"そろそろ終わり"},{time:"10:00","event-name":"スプリント開始"},{time:"10:11","event-name":"1分レポート書いてね"},{time:"10:12","event-name":"スプリント終了"},{time:"10:15","event-name":"スプリント開始"},{time:"10:26","event-name":"1分レポート書いてね"},{time:"10:27","event-name":"スプリント終了"},{time:"10:30","event-name":"スプリント開始"},{time:"10:41","event-name":"1分レポート書いてね"},{time:"10:42","event-name":"スプリント終了"},{time:"10:45","event-name":"ふりかえり開始"},{time:"10:59","event-name":"そろそろ終わり"},{time:"11:00","event-name":"スプリント開始"},{time:"11:11","event-name":"1分レポート書いてね"},{time:"11:12","event-name":"スプリント終了"},{time:"11:15","event-name":"スプリント開始"},{time:"11:26","event-name":"1分レポート書いてね"},{time:"11:27","event-name":"スプリント終了"},{time:"11:30","event-name":"スプリント開始"},{time:"11:41","event-name":"1分レポート書いてね"},{time:"11:42","event-name":"スプリント終了"},{time:"11:45","event-name":"ふりかえり開始"},{time:"11:59","event-name":"そろそろ終わり"},{time:"12:00","event-name":"スプリント開始"},{time:"12:11","event-name":"1分レポート書いてね"},{time:"12:12","event-name":"スプリント終了"},{time:"12:15","event-name":"スプリント開始"},{time:"12:26","event-name":"1分レポート書いてね"},{time:"12:27","event-name":"スプリント終了"},{time:"12:30","event-name":"スプリント開始"},{time:"12:41","event-name":"1分レポート書いてね"},{time:"12:42","event-name":"スプリント終了"},{time:"12:45","event-name":"ふりかえり開始"},{time:"12:59","event-name":"そろそろ終わり"},{time:"13:00","event-name":"スプリント開始"},{time:"13:11","event-name":"1分レポート書いてね"},{time:"13:12","event-name":"スプリント終了"},{time:"13:15","event-name":"スプリント開始"},{time:"13:26","event-name":"1分レポート書いてね"},{time:"13:27","event-name":"スプリント終了"},{time:"13:30","event-name":"スプリント開始"},{time:"13:41","event-name":"1分レポート書いてね"},{time:"13:42","event-name":"スプリント終了"},{time:"13:45","event-name":"ふりかえり開始"},{time:"13:59","event-name":"そろそろ終わり"},{time:"14:00","event-name":"スプリント開始"},{time:"14:11","event-name":"1分レポート書いてね"},{time:"14:12","event-name":"スプリント終了"},{time:"14:15","event-name":"スプリント開始"},{time:"14:26","event-name":"1分レポート書いてね"},{time:"14:27","event-name":"スプリント終了"},{time:"14:30","event-name":"スプリント開始"},{time:"14:41","event-name":"1分レポート書いてね"},{time:"14:42","event-name":"スプリント終了"},{time:"14:45","event-name":"ふりかえり開始"},{time:"14:59","event-name":"そろそろ終わり"},{time:"15:00","event-name":"スプリント開始"},{time:"15:11","event-name":"1分レポート書いてね"},{time:"15:12","event-name":"スプリント終了"},{time:"15:15","event-name":"スプリント開始"},{time:"15:26","event-name":"1分レポート書いてね"},{time:"15:27","event-name":"スプリント終了"},{time:"15:30","event-name":"スプリント開始"},{time:"15:41","event-name":"1分レポート書いてね"},{time:"15:42","event-name":"スプリント終了"},{time:"15:45","event-name":"ふりかえり開始"},{time:"15:59","event-name":"そろそろ終わり"},{time:"16:00","event-name":"スプリント開始"},{time:"16:11","event-name":"1分レポート書いてね"},{time:"16:12","event-name":"スプリント終了"},{time:"16:15","event-name":"スプリント開始"},{time:"16:26","event-name":"1分レポート書いてね"},{time:"16:27","event-name":"スプリント終了"},{time:"16:30","event-name":"スプリント開始"},{time:"16:41","event-name":"1分レポート書いてね"},{time:"16:42","event-name":"スプリント終了"},{time:"16:45","event-name":"ふりかえり開始"},{time:"16:59","event-name":"そろそろ終わり"},{time:"17:00","event-name":"スプリント開始"},{time:"17:11","event-name":"1分レポート書いてね"},{time:"17:12","event-name":"スプリント終了"},{time:"17:15","event-name":"スプリント開始"},{time:"17:26","event-name":"1分レポート書いてね"},{time:"17:27","event-name":"スプリント終了"},{time:"17:30","event-name":"スプリント開始"},{time:"17:41","event-name":"1分レポート書いてね"},{time:"17:42","event-name":"スプリント終了"},{time:"17:45","event-name":"ふりかえり開始"},{time:"17:59","event-name":"そろそろ終わり"},{time:"18:00","event-name":"スプリント開始"},{time:"18:11","event-name":"1分レポート書いてね"},{time:"18:12","event-name":"スプリント終了"},{time:"18:15","event-name":"スプリント開始"},{time:"18:26","event-name":"1分レポート書いてね"},{time:"18:27","event-name":"スプリント終了"},{time:"18:30","event-name":"スプリント開始"},{time:"18:41","event-name":"1分レポート書いてね"},{time:"18:42","event-name":"スプリント終了"},{time:"18:45","event-name":"ふりかえり開始"},{time:"18:59","event-name":"そろそろ終わり"},{time:"19:00","event-name":"スプリント開始"},{time:"19:11","event-name":"1分レポート書いてね"},{time:"19:12","event-name":"スプリント終了"},{time:"19:15","event-name":"スプリント開始"},{time:"19:26","event-name":"1分レポート書いてね"},{time:"19:27","event-name":"スプリント終了"},{time:"19:30","event-name":"スプリント開始"},{time:"19:41","event-name":"1分レポート書いてね"},{time:"19:42","event-name":"スプリント終了"},{time:"19:45","event-name":"ふりかえり開始"},{time:"19:59","event-name":"そろそろ終わり"},{time:"20:00","event-name":"スプリント開始"},{time:"20:11","event-name":"1分レポート書いてね"},{time:"20:12","event-name":"スプリント終了"},{time:"20:15","event-name":"スプリント開始"},{time:"20:26","event-name":"1分レポート書いてね"},{time:"20:27","event-name":"スプリント終了"},{time:"20:30","event-name":"スプリント開始"},{time:"20:41","event-name":"1分レポート書いてね"},{time:"20:42","event-name":"スプリント終了"},{time:"20:45","event-name":"ふりかえり開始"},{time:"20:59","event-name":"そろそろ終わり"},{time:"21:00","event-name":"スプリント開始"},{time:"21:11","event-name":"1分レポート書いてね"},{time:"21:12","event-name":"スプリント終了"},{time:"21:15","event-name":"スプリント開始"},{time:"21:26","event-name":"1分レポート書いてね"},{time:"21:27","event-name":"スプリント終了"},{time:"21:30","event-name":"スプリント開始"},{time:"21:41","event-name":"1分レポート書いてね"},{time:"21:42","event-name":"スプリント終了"},{time:"21:45","event-name":"ふりかえり開始"},{time:"21:59","event-name":"そろそろ終わり"},{time:"22:00","event-name":"スプリント開始"},{time:"22:11","event-name":"1分レポート書いてね"},{time:"22:12","event-name":"スプリント終了"},{time:"22:15","event-name":"スプリント開始"},{time:"22:26","event-name":"1分レポート書いてね"},{time:"22:27","event-name":"スプリント終了"},{time:"22:30","event-name":"スプリント開始"},{time:"22:41","event-name":"1分レポート書いてね"},{time:"22:42","event-name":"スプリント終了"},{time:"22:45","event-name":"ふりかえり開始"},{time:"22:59","event-name":"そろそろ終わり"},{time:"23:00","event-name":"スプリント開始"},{time:"23:11","event-name":"1分レポート書いてね"},{time:"23:12","event-name":"スプリント終了"},{time:"23:15","event-name":"スプリント開始"},{time:"23:26","event-name":"1分レポート書いてね"},{time:"23:27","event-name":"スプリント終了"},{time:"23:30","event-name":"スプリント開始"},{time:"23:41","event-name":"1分レポート書いてね"},{time:"23:42","event-name":"スプリント終了"},{time:"23:45","event-name":"ふりかえり開始"},{time:"23:59","event-name":"そろそろ終わり"}],music:{"スプリント開始":"start-sprint.mp3","1分レポート書いてね":"1min-report.mp3","スプリント終了":"end-sprint.mp3","ふりかえり開始":"start-1h-review.mp3","そろそろ終わり":"end-1h-review.mp3"},"ntp-server-urls":["http://ntp-a1.nict.go.jp/cgi-bin/json","http://ntp-b1.nict.go.jp/cgi-bin/json"]}}getAllEvents(){return this.timerConfigJson.schedule}getNextEventIndex(e){const t=100*e.getHours()+e.getMinutes();return this.timerConfigJson.schedule.findIndex(e=>{const n=Number.parseInt(e.time.replace(":",""));return n>t})}getMusic(e){return this.timerConfigJson.music[e]}getNtpServerUrls(){return this.timerConfigJson["ntp-server-urls"]}}var r=n("bc3a");class s{constructor(e,t,n){this.ntpServers=e,this.baseTime=t,this.startTime=performance.now(),this.id=Math.random(),this.syncTimer=new o(()=>this.sync(),18e5).start(),this.localMode=n}static async createAsync(e){try{const n=await c.ntpNowAsync(e[0]);return new s(e,n,!1)}catch(t){return new s(e,(new Date).getTime(),!0)}}isLocalMode(){return this.localMode}sync(){const e=this.ntpServers[0];c.ntpNowAsync(e).then(e=>{this.baseTime=e,this.startTime=performance.now(),this.isLocalMode=!1}).catch(e=>{})}now(){const e=performance.now()-this.startTime;return this.baseTime+e}dispose(){this.syncTimer.dispose()}}class o{constructor(e,t){this.proc=e,this.intervalMSec=t}start(){return this.timerId=setInterval(()=>this.proc(),this.intervalMSec),this}dispose(){clearInterval(this.timerId)}}const c={async ntpNowAsync(e){return r["get"](e).then(e=>{return 1e3*e.data.st})}};var u,p={name:"app",components:{},data:function(){return{mode:null,currentTime:null,nextEventIndex:0,events:[{}]}},methods:{futureEvents(){const e=[];for(let t=this.nextEventIndex+1;t<this.events.length;t++)e.push(this.events[t]);for(let t=0;t<this.nextEventIndex;t++)e.push(this.events[t]);return e},notify(e){const t=(new v).getMusic(e);new Audio(n("1771")("./"+t)).play(),console.log(t)}},created(){const e=new v;this.events=e.getAllEvents(),s.createAsync(e.getNtpServerUrls()).then(t=>{u=t;const n=new Date(u.now());this.nextEventIndex=e.getNextEventIndex(n),setInterval(()=>{this.mode=u.isLocalMode()?"(システム時刻使用中)":"";const e=u.now(),t=new Date(e),n=t.toLocaleTimeString();n!=this.currentTime&&(this.currentTime=n);for(let m=this.nextEventIndex;m<this.events.length;m++){const t=this.events[m],n=new Date(e),i=t.time.split(":");n.setHours(Number.parseInt(i[0])),n.setMinutes(Number.parseInt(i[1])),n.setSeconds(0),n.setMilliseconds(0);const a=n.getTime()-e;a<0&&(console.log(a),this.notify(t["event-name"]),this.nextEventIndex=m+1)}},100)})},beforeDestroy(){console.log("before destroy"),u&&u.dispose()}},l=p,d=(n("034f"),n("2877")),f=Object(d["a"])(l,i,a,!1,null,null,null),h=f.exports;m["a"].config.productionTip=!1,new m["a"]({render:function(e){return e(h)}}).$mount("#app")},"64a9":function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},e577:function(e,t,n){e.exports=n.p+"media/start-1h-review.85eb33c6.mp3"},f43e:function(e,t,n){e.exports=n.p+"media/end-sprint.85eb33c6.mp3"}});
//# sourceMappingURL=app.af94b76b.js.map